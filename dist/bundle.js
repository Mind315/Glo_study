(()=>{"use strict";var e,t,o,n,c,r,a,l,s,i,u,d,m,v,f,p,h,g,y,q,S,E,L,b;(function(e){var t,o=document.querySelector("#timer-hours"),n=document.querySelector("#timer-minutes"),c=document.querySelector("#timer-seconds");function r(e){return e<10&&(e="0".concat(e)),e}function a(){var e,a,l,s=(e=(new Date("27 march 2021").getTime()-(new Date).getTime())/1e3,a=Math.floor(e%60),l=Math.floor(e/60%60),{timeRemaining:e,hours:Math.floor(e/60/60)%24,minutes:l,seconds:a});o.textContent=r(s.hours),n.textContent=r(s.minutes),c.textContent=r(s.seconds),s.timeRemaining>0?console.log():(clearInterval(t),o.textContent="00",n.textContent="00",c.textContent="00")}a(),t=setInterval(a,1e3)})(),S=document.querySelector(".menu"),E=document.querySelector("menu"),L=document.querySelector(".close-btn"),b=function(e){var t=e.target;console.log(t),console.log(t.closest(".close-btn")),t.closest(".menu")||t===L||t.closest(".close-btn")?E.classList.toggle("active-menu"):t!==E&&E.classList.remove("active-menu")},S.addEventListener("click",b),E.addEventListener("click",b),p=document.querySelector(".popup"),h=document.querySelectorAll(".popup-btn"),document.querySelector(".popup-close"),g=-700,y=-700,q=function e(){y+=10,document.querySelector(".popup-content").style.transform="translateX(".concat(y,"px)"),y<0&&requestAnimationFrame(e)},h.forEach((function(e){e.addEventListener("click",(function(){p.style.display="block",screen.width>=768&&(y=g,requestAnimationFrame(q))}))})),p.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?p.style.display="none":(t=t.closest(".popup-content"))||(p.style.display="none")})),m=document.querySelector(".service-header"),v=m.querySelectorAll(".service-header-tab"),f=document.querySelectorAll(".service-tab"),m.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&v.forEach((function(e,o){e===t&&function(e){for(var t=0;t<f.length;t++)e===t?(v[t].classList.add("active"),f[t].classList.remove("d-none")):(v[t].classList.remove("active"),f[t].classList.add("d-none"))}(o)}))})),function(){for(var e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-dots"),o=0;o<e.length;o++){var n=document.createElement("li");n.classList.add("dot"),t.append(n)}t.children[0].classList.add("dot-active")}(),document.querySelectorAll(".command__photo").forEach((function(e){e.addEventListener("mouseenter",(function(e){d=e.target.src,e.target.src=e.target.dataset.img})),e.addEventListener("mouseout",(function(e){e.target.src=d}))})),document.querySelector(".calc-block").addEventListener("input",(function(e){var t=e.target;"calc-item calc-count"!==t.className&&"calc-item calc-day"!==t.className&&"calc-item calc-square"!==t.className||(t.value=t.value.replace(/\D/,""))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),c=document.querySelector(".calc-day"),r=document.querySelector(".calc-count"),a=document.getElementById("total"),l=function(){var t=0,l=1,s=1,i=o.options[o.selectedIndex].value,u=+n.value;r.value>1&&(l+=(r.value-1)/10),c&&c.value<5?s*=2:c&&c.value<10&&(s*=1.5),i&&u&&(t=e*i*u*l*s),a.textContent=t};t.addEventListener("change",(function(e){var t=e.target;t!==o&&t!==n&&t!==c&&t!==r||l()}))}(100),i=function(e){var t=e.target;if("user_name"===t.name||"user_message"===t.name)t.value=t.value.replace(/[^а-я\s-]/gi,"");else if("user_phone"===t.name)t.value=t.value.replace(/[^\d()-]/gi,"");else{if("user_email"!==t.name)return;t.value=t.value.replace(/[^a-z@_\-\.!\~\*']/gi,"")}},(u=function(e){var t=document.getElementById(e),o=document.createElement("div");o.style.cssText="font-size: 2rem; color: #fff",t.addEventListener("submit",(function(n){var c=new FormData(t),r={};o.textContent="",o.className="sk-rotating-plane",n.preventDefault(),t.appendChild(o),c.forEach((function(e,t){r[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"multipart/from-data"},body:JSON.stringify(e)})}(r).then((function(t){if(200!==t.status)throw new Error("status network is not 200");var n;o.className="",o.textContent="Спасибо! Мы скоро с вами свяжемся!",n=e,document.getElementById(n).reset()})).catch((function(e){o.className="",o.textContent="Что-то пошло не так...",console.error(e)}))})),t.addEventListener("input",i)})("form1"),u("form2"),u("form3"),t=document.querySelectorAll(".portfolio-item"),document.querySelectorAll(".portfolio-btn"),o=document.querySelectorAll(".dot"),n=document.querySelector(".portfolio-content"),c=0,r=function(e,t,o){e[t].classList.remove(o)},a=function(e,t,o){e[t].classList.add(o)},l=function(){r(t,c,"portfolio-item-active"),r(o,c,"dot-active"),++c>=t.length&&(c=0),a(t,c,"portfolio-item-active"),a(o,c,"dot-active")},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;e=setInterval(l,t)},n.addEventListener("click",(function(e){e.preventDefault();var n=e.target;n.matches(".portfolio-btn, .dot")&&(r(t,c,"portfolio-item-active"),r(o,c,"dot-active"),n.matches("#arrow-right")?c++:n.matches("#arrow-left")?c--:n.matches(".dot")&&o.forEach((function(e,t){e===n&&(c=t)})),c>=t.length&&(c=0),c<0&&(c=t.length-1),a(t,c,"portfolio-item-active"),a(o,c,"dot-active"))})),n.addEventListener("mouseover",(function(t){(t.target.matches(".portfolio-btn")||t.target.matches(".dot"))&&clearInterval(e)})),n.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&s()})),s(1100)})();